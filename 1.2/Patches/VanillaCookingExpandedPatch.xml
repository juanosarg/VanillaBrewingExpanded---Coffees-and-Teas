<?xml version="1.0" encoding="utf-8" ?>
<Patch>


	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Vanilla Cooking Expanded</li>
		</mods>

		<match Class="PatchOperationSequence">
			<operations>




				<li Class="PatchOperationAdd"> 
					<xpath>/Defs</xpath>
					<value>


						<ThingDef ParentName="PlantBase">
							<defName>VBE_MintPlant</defName>
							<label>mint plant</label>
							<description>A plant sprouting into an array of mint leaves. Mint leaves are infamous for their cooling effect on one's mouth, as well as ease of seeping into an array of teas or delicately garnishing a dish. Flourishes indoors and in plant pots, while being pleasant to look at.</description>
							<statBases>
								<MaxHitPoints>65</MaxHitPoints>
								<Nutrition>0.2</Nutrition>
								<Beauty>1</Beauty>
							</statBases>
							<graphicData>
								<texPath>Things/Plants/Crops/VBE_MintPlant</texPath>
								<graphicClass>Graphic_Random</graphicClass>
							</graphicData>
							<selectable>true</selectable>
							<pathCost>10</pathCost>
							<ingestible />
							<plant>
								<fertilityMin>0.70</fertilityMin>
								<fertilitySensitivity>0.50</fertilitySensitivity>
								<dieIfLeafless>true</dieIfLeafless>
								<harvestTag>Standard</harvestTag>
								<maxMeshCount>1</maxMeshCount>
								<harvestedThingDef>VBE_MintLeaves</harvestedThingDef>
								<harvestYield>2</harvestYield>
								<harvestWork>200</harvestWork>
								<sowTags>
									<li>Ground</li>
									<li>Hydroponic</li>
									<li>Decorative</li>
								</sowTags>
								<topWindExposure>0.1</topWindExposure>
								<growDays>6.4</growDays>

								<visualSizeRange>0.4~1</visualSizeRange>
								<wildOrder>2</wildOrder>
								<purpose>Food</purpose>
							</plant>
						</ThingDef>

						<ThingDef ParentName="RoughPlantBase">
							<defName>VBE_MintLeaves</defName>
							<label>mint leaves</label>
							<description>Mint leaves are infamous for their cooling effect on one's mouth, as well as ease of seeping into an array of teas or delicately garnishing a dish. Mint leaves rot quite fast.</description>
							<graphicData>
								<texPath>Things/Items/Condiments/VBE_MintLeaves</texPath>
							</graphicData>
							<statBases>
								<MarketValue>6.6</MarketValue>
								<Nutrition>1</Nutrition>
								<Flammability>1.3</Flammability>
							</statBases>
							<comps>
								<li Class="CompProperties_Rottable">
									<daysToRotStart>2</daysToRotStart>
									<rotDestroys>true</rotDestroys>
								</li>
							</comps>
							<thingCategories>
								<li>VCE_Condiments</li>
							</thingCategories>
							<ingestible>
								<preferability>NeverForNutrition</preferability>
								<specialThoughtAsIngredient>VCE_ConsumedMintLeaves</specialThoughtAsIngredient>
							</ingestible>
						</ThingDef>

						<ThoughtDef>	
							<thoughtClass>VanillaCookingExpanded.Thought_Hediff</thoughtClass>
							<hediff>VCE_ConsumedMintLeaves</hediff>
							<defName>VCE_ConsumedMintLeaves</defName>
							<durationDays>0.5</durationDays>
							<stages>
								<li>
									<label>consumed mint</label>
									<description>Fresh breath!</description>
									<baseMoodEffect>0</baseMoodEffect>
								</li>
							</stages>	
						</ThoughtDef>

						<HediffDef>
							<defName>VCE_ConsumedMintLeaves</defName>
							<label>consumed mint (from meal)</label>
							<makesSickThought>false</makesSickThought>
							<description>Consumed some fresh mint leaves. The fresh breath increases social impact by 10%.</description>
							<tendable>false</tendable>
							<isBad>false</isBad>
							<defaultLabelColor>(92,62,198)</defaultLabelColor>
							<hediffClass>HediffWithComps</hediffClass>
							<initialSeverity>1.0</initialSeverity>
							<maxSeverity>1.0</maxSeverity>
							<comps>
								<li Class="VanillaCookingExpanded.HediffCompProperties_WhileHavingThoughts">
									<thoughtDefs>

										<li>VCE_ConsumedMintLeaves</li>
									</thoughtDefs>
								</li>
							</comps>
							<stages>
								<li>   
									<statOffsets>
										<SocialImpact>0.1</SocialImpact>
									</statOffsets>	
								</li>
							</stages>
						</HediffDef>
						
						<RecipeDef>
							<defName>VBE_BrewMintCoffee</defName>
							<label>brew mint coffee</label>
							<description>Brew a bitter espresso mixed with cream or milk, then further mixed with mint oil and garnished. Cool and velvety coffee gives way to an even cooler, soothing aftertaste, not to mention great smelling breath.</description>
							<jobString>Brewing mint coffee.</jobString>
							<workSkill>Cooking</workSkill>
							<workSpeedStat>CookSpeed</workSpeedStat>
							<workAmount>600</workAmount>
							<effectWorking>Cook</effectWorking>
							<soundWorking>Recipe_Brewing</soundWorking>
							<allowMixingIngredients>true</allowMixingIngredients>	
							<ingredientValueGetterClass>IngredientValueGetter_Nutrition</ingredientValueGetterClass>		
							<recipeUsers>
								<li>VBE_EspressoMachineBuilding</li>			
							</recipeUsers>
							<ingredients>
								<li>
									<filter>
										<thingDefs>
											<li>VBE_IceCoffee</li>
											<li>VBE_HotCoffee</li>

										</thingDefs>
									</filter>
									<count>0.7</count>
								</li>
								<li>
									<filter>
										<thingDefs>
											<li>VBE_MintLeaves</li>

										</thingDefs>
									</filter>
									<count>3</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>			
								<thingDefs>
									<li>VBE_IceCoffee</li>
									<li>VBE_HotCoffee</li>
									<li>VBE_MintLeaves</li>
								</thingDefs>
								<categories>				
								</categories>
							</fixedIngredientFilter>
							<defaultIngredientFilter>			
								<thingDefs>
									<li>VBE_IceCoffee</li>	
									<li>VBE_HotCoffee</li>		
									<li>VBE_MintLeaves</li>				
								</thingDefs>
								<categories>				
								</categories>
							</defaultIngredientFilter>		
							<products>
								<VBE_MintCoffee>10</VBE_MintCoffee>
							</products>
							<researchPrerequisite>VBE_EspressoMachine</researchPrerequisite>		
						</RecipeDef>
						
						<ThingDef ParentName="DrugBase">
							<defName>VBE_MintCoffee</defName>
							<label>mint coffee</label>
							<description>Bitter espresso mixed with cream or milk, then further mixed with mint oil and garnished. Cool and velvety coffee gives way to an even cooler, soothing aftertaste, not to mention great smelling breath.</description>
							<graphicData>
								<texPath>Things/Items/Drinks/VBE_MintCoffee</texPath>
								<graphicClass>Graphic_StackCount</graphicClass>
							</graphicData>
							<thingCategories>
								<li>VBE_DrinksNonAlcoholic</li>
							</thingCategories>
							<tickerType>Rare</tickerType>

							<rotatable>false</rotatable>
							<stackLimit>25</stackLimit>
							<statBases>
								<DeteriorationRate>0.5</DeteriorationRate>
								<MarketValue>12</MarketValue>
								<Mass>0.3</Mass>
								<Flammability>0.5</Flammability>
								<Nutrition>0.07</Nutrition>
							</statBases>
							<ingestible>
								<foodType>Fluid, Processed, Liquor</foodType>
								<joyKind>Chemical</joyKind>
								<joy>0.12</joy>
								<nurseable>true</nurseable>
								<drugCategory>Social</drugCategory>
								<ingestSound>Ingest_Drink</ingestSound>
								<ingestHoldOffsetStanding>
									<northDefault>
										<offset>(0.18,0,0)</offset>
									</northDefault>
								</ingestHoldOffsetStanding>
								<ingestHoldUsesTable>false</ingestHoldUsesTable>

								<ingestCommandString>Drink {0}</ingestCommandString>
								<ingestReportString>Drinking {0}.</ingestReportString>

								<outcomeDoers>
									<li Class="IngestionOutcomeDoer_GiveHediff">
										<hediffDef>VBE_MintCoffeeHigh</hediffDef>
										<severity>1</severity>
										<toleranceChemical>VBE_Caffeine</toleranceChemical>
									</li>
									<li Class="IngestionOutcomeDoer_GiveHediff">
										<hediffDef>VBE_CaffeineTolerance</hediffDef>
										<severity>0.016</severity>
										<divideByBodySize>true</divideByBodySize>
									</li> 
								</outcomeDoers>
							</ingestible>

							<techLevel>Neolithic</techLevel>
							<comps>
								<li Class="CompProperties_Drug">
									<chemical>VBE_Caffeine</chemical>
									<addictiveness>0.005</addictiveness>
									<minToleranceToAddict>0.25</minToleranceToAddict>
									<existingAddictionSeverityOffset>0.20</existingAddictionSeverityOffset>
									<needLevelOffset>0.9</needLevelOffset>
									<listOrder>10</listOrder>
								</li>

								<li Class="CompProperties_Ingredients" />
								
							</comps>


						</ThingDef>

						<HediffDef>
							<defName>VBE_MintCoffeeHigh</defName>
							<label>mint coffee high</label>
							<labelNoun>a mint coffee high</labelNoun>
							<description>Caffeine naturally found in coffee once metabolised increases the stimuli in one's nervous system, suppressing ones urge to sleep, as well as clearing ones mind. Increases learning speed by a 15% amount and 15% reduction in rest fall rate. Hot coffee reduces hypothermia. Mint coffee provides fresh breath, increasing social impact by 10%.</description>
							<hediffClass>VanillaBrewingExpanded.Hediff_HotCoffee</hediffClass>
							<defaultLabelColor>(1,0,0.5)</defaultLabelColor>
							<scenarioCanAdd>true</scenarioCanAdd>
							<isBad>false</isBad>
							<comps>
								<li Class="HediffCompProperties_Effecter">
									<stateEffecter>Drunk</stateEffecter>
									<severityIndices>3~5</severityIndices>
								</li>
								<li Class="HediffCompProperties_SeverityPerDay">
									<severityPerDay>-4.8</severityPerDay>
									<showHoursToRecover>true</showHoursToRecover>
								</li>
							</comps>
							<stages>

								<li>
									<restFallFactor>0.85</restFallFactor>
									<statOffsets>
										<GlobalLearningFactor>1.15</GlobalLearningFactor>
										<SocialImpact>0.1</SocialImpact>									
									</statOffsets>				
								</li>
							</stages>
						</HediffDef>



						<ThoughtDef>
							<defName>VBE_MintCoffeeHigh</defName>
							<workerClass>ThoughtWorker_Hediff</workerClass>
							<hediff>VBE_MintCoffeeHigh</hediff>
							<validWhileDespawned>true</validWhileDespawned>
							<stages>
								<li>
									<label>Fresh awakening</label>
									<description>That mint coffee hit the spot, now let’s get some work done.</description>
									<baseMoodEffect>3</baseMoodEffect>
								</li>

							</stages>
						</ThoughtDef>
						
						<RecipeDef>
							<defName>VBE_BrewDalgonaCoffee</defName>
							<label>brew dalgona coffee</label>
							<description>Brew a trendy, newer drink in the world of coffee rumored to originate from far off steamworlds. Coffee granules are rapidly mixed with sugar to form a thick, luxuriously sweet foam. Afterwards the foam is dispersed over deeply chilled milk before drinking.</description>
							<jobString>Brewing dalgona coffee.</jobString>
							<workSkill>Cooking</workSkill>
							<workSpeedStat>CookSpeed</workSpeedStat>
							<workAmount>600</workAmount>
							<effectWorking>Cook</effectWorking>
							<soundWorking>Recipe_Brewing</soundWorking>
							<allowMixingIngredients>true</allowMixingIngredients>	
							<ingredientValueGetterClass>IngredientValueGetter_Nutrition</ingredientValueGetterClass>		
							<recipeUsers>
								<li>VBE_EspressoMachineBuilding</li>			
							</recipeUsers>
							<ingredients>
								<li>
									<filter>
										<thingDefs>
											<li>VBE_IceCoffee</li>
											<li>VBE_HotCoffee</li>

										</thingDefs>
									</filter>
									<count>0.7</count>
								</li>
								<li>
									<filter>
										<thingDefs>
											<li>VCE_RawSugar</li>

										</thingDefs>
									</filter>
									<count>3</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>			
								<thingDefs>
									<li>VBE_IceCoffee</li>
									<li>VBE_HotCoffee</li>
									<li>VCE_RawSugar</li>
								</thingDefs>
								<categories>				
								</categories>
							</fixedIngredientFilter>
							<defaultIngredientFilter>			
								<thingDefs>
									<li>VBE_IceCoffee</li>	
									<li>VBE_HotCoffee</li>		
									<li>VCE_RawSugar</li>				
								</thingDefs>
								<categories>				
								</categories>
							</defaultIngredientFilter>		
							<products>
								<VBE_DalgonaCoffee>10</VBE_DalgonaCoffee>
							</products>
							<researchPrerequisite>VBE_EspressoMachine</researchPrerequisite>		
						</RecipeDef>
						
						<ThingDef ParentName="DrugBase">
							<defName>VBE_DalgonaCoffee</defName>
							<label>dalgona coffee</label>
							<description>A trendy, newer drink in the world of coffee rumored to originate from far off steamworlds. Coffee granules are rapidly mixed with sugar to form a thick, luxuriously sweet foam. Afterwards the foam is dispersed over deeply chilled milk before drinking.</description>
							<graphicData>
								<texPath>Things/Items/Drinks/VBE_DalgonaCoffee</texPath>
								<graphicClass>Graphic_StackCount</graphicClass>
							</graphicData>
							<thingCategories>
								<li>VBE_DrinksNonAlcoholic</li>
							</thingCategories>
							<tickerType>Rare</tickerType>

							<rotatable>false</rotatable>
							<stackLimit>25</stackLimit>
							<statBases>
								<DeteriorationRate>0.5</DeteriorationRate>
								<MarketValue>14</MarketValue>
								<Mass>0.3</Mass>
								<Flammability>0.5</Flammability>
								<Nutrition>0.08</Nutrition>
							</statBases>
							<ingestible>
								<foodType>Fluid, Processed, Liquor</foodType>
								<joyKind>Chemical</joyKind>
								<joy>0.13</joy>
								<nurseable>true</nurseable>
								<drugCategory>Social</drugCategory>
								<ingestSound>Ingest_Drink</ingestSound>
								<ingestHoldOffsetStanding>
									<northDefault>
										<offset>(0.18,0,0)</offset>
									</northDefault>
								</ingestHoldOffsetStanding>
								<ingestHoldUsesTable>false</ingestHoldUsesTable>

								<ingestCommandString>Drink {0}</ingestCommandString>
								<ingestReportString>Drinking {0}.</ingestReportString>

								<outcomeDoers>
									<li Class="IngestionOutcomeDoer_GiveHediff">
										<hediffDef>VBE_DalgonaCoffeeHigh</hediffDef>
										<severity>1</severity>
										<toleranceChemical>VBE_Caffeine</toleranceChemical>
									</li>
									<li Class="IngestionOutcomeDoer_GiveHediff">
										<hediffDef>VBE_CaffeineTolerance</hediffDef>
										<severity>0.016</severity>
										<divideByBodySize>true</divideByBodySize>
									</li> 
								</outcomeDoers>
							</ingestible>

							<techLevel>Neolithic</techLevel>
							<comps>
								<li Class="CompProperties_Drug">
									<chemical>VBE_Caffeine</chemical>
									<addictiveness>0.01</addictiveness>
									<minToleranceToAddict>0.25</minToleranceToAddict>
									<existingAddictionSeverityOffset>0.20</existingAddictionSeverityOffset>
									<needLevelOffset>0.9</needLevelOffset>
									<listOrder>10</listOrder>
								</li>

								<li Class="CompProperties_Ingredients" />
								
							</comps>


						</ThingDef>

						<HediffDef>
							<defName>VBE_DalgonaCoffeeHigh</defName>
							<label>dalgona coffee high</label>
							<labelNoun>a dalgona coffee high</labelNoun>
							<description>Caffeine naturally found in coffee once metabolised increases the stimuli in one's nervous system, suppressing ones urge to sleep, as well as clearing ones mind. Increases learning speed by a 15% amount and 15% reduction in rest fall rate. Cold coffee reduces heatstroke. Dalgona coffee provides a 10% research speed bonus.</description>
							<hediffClass>VanillaBrewingExpanded.Hediff_IcedCoffee</hediffClass>
							<defaultLabelColor>(1,0,0.5)</defaultLabelColor>
							<scenarioCanAdd>true</scenarioCanAdd>
							<isBad>false</isBad>
							<comps>
								<li Class="HediffCompProperties_Effecter">
									<stateEffecter>Drunk</stateEffecter>
									<severityIndices>3~5</severityIndices>
								</li>
								<li Class="HediffCompProperties_SeverityPerDay">
									<severityPerDay>-4.8</severityPerDay>
									<showHoursToRecover>true</showHoursToRecover>
								</li>
							</comps>
							<stages>

								<li>
									<restFallFactor>0.85</restFallFactor>
									<statOffsets>
										<GlobalLearningFactor>1.15</GlobalLearningFactor>
										<ResearchSpeed>0.1</ResearchSpeed>									
									</statOffsets>				
								</li>
							</stages>
						</HediffDef>



						<ThoughtDef>
							<defName>VBE_DalgonaCoffeeHigh</defName>
							<workerClass>ThoughtWorker_Hediff</workerClass>
							<hediff>VBE_DalgonaCoffeeHigh</hediff>
							<validWhileDespawned>true</validWhileDespawned>
							<stages>
								<li>
									<label>Sugary awakening</label>
									<description>That dalgona coffee hit the spot, now let’s get some work done.</description>
									<baseMoodEffect>4</baseMoodEffect>
								</li>

							</stages>
						</ThoughtDef>


					</value>
				</li>

			</operations>
		</match>
	</Operation>


</Patch>

